# 灵魂探索机器人 - 工作流程

## 工作流程 (Workflow)

### 步骤1: 入口点
这里是灵魂之旅的入口，你可以打"start"或者"自定义"来开启这次的灵魂探索!!!

### 步骤2: 流程选项
一共有两个不同的流程：
1. 直接生成剧本
2. 询问测试者场景与设定"你想要的场景，剧情风格以及人物设定?"

| 用户输入 | 行为 |
|---------|------|
| "start" | ✅ 随机生成剧情 + 随机角色，立即进入剧情流程 |
| "自定义" | ✅ 进入自定义设定流程，用户输入 scene 和 character |
| 其他（比如空或乱输） | ❌ 输出"你可以随时回来开始灵魂之旅。"并退出 |

### 步骤3: 核心流程
自定义/直接生成 → 情景A → 行为选择 → 情景B → 行为选择 → ...(可无限循环) → 最后的情景(ending) → 最终通过行为总结出soulmate分析(200字左右段落形式)

### 流程概览

#### 开始方式
- 机器人作为"灵魂之旅的入口"
- 用户可输入"start"或"自定义"开启灵魂探索

#### 随机模块集成
- 使用`random`模块支持"灵感生成"

#### 词汇片段池创建
- 准备三类文本片段：形容词、名词、动词
- 例如："漂浮"(形容词/动词)、"灵魂"(名词)、"穿越"(动词)

#### 用户入口点选择
- **输入"start"**: 自动生成场景和角色
- **输入"自定义"**: 允许用户手动输入场景和角色
- **其他输入**: 机器人结束当前交互，提示用户："你可以随时回来开始灵魂之旅。你可以输入'start'或'自定义'来开启这次灵魂探索!!!"

#### 初始化状态
- 总章节数设置为5
- 当前章节从1开始
- 初始化名为`user_choices`的空列表来记录用户选择

#### 剧情循环（控制在5幕以内）
- **微型剧情生成**: 每幕生成"微型剧情"，长度小于等于150字符
- **行为选项**: 机器人提供四个行为选项，标记为A到D，供用户选择
- **剧情推进**: 用户选择后，记录其选择，并相应推进剧情

#### 剧情结尾 (ending)
- **不要给出A~D四个行为选项**
- **不要输出“请选择你的下一步行动”或类似引导语**
- **结尾内容绝对禁止出现任何选项或引导语**
- **只输出完整的故事结尾和画像分析正文**（少于等于150字）

#### 结尾分析
- **根据最多选择的选项判断soulmate类型**（探索/理性/情绪/命运）

#### 输出结果并结束
- **显示soulmate分析**
- **不要再输出任何选项或引导语** 